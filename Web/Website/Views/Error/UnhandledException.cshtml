@model Exception

@{
    ViewBag.Title = "Unhandled Exception";
}

@section PageSpecificScripts{@*
    *@<script type="text/javascript">
          $(document).ready(function() {
              var $general = $('#content .exception.general');
              var $specific = $('#content .exception.technical');

              $general.show();
              $specific.hide();

              $general.click(function() {
                  $general.hide();
                  $specific.show();
              });
          });
      </script>@*
*@}

@Html.Partial("Partials/BotMessage/Exception")

<div class="exception general">
    <h2 class="message">I messed up.  I can do better... I think.  Are you upset with me?  Sorry, forget I said that.  I'll try really hard and you'll see!</h2>
</div>

@{
    var exceptions = new List<Exception>();

    var currentException = Model;
    
    while (currentException != null)
    {
        exceptions.Add(currentException);
        currentException = currentException.InnerException;
    }

    exceptions.Reverse();
}


@foreach (var exception in exceptions)
{
    <div class="exception technical">
        <h2 class="message">@exception.Message</h2>
        <p>Exception type: @exception.GetType().Name</p>
        <pre class="stackTrace">@exception.StackTrace</pre>
    </div>
       
}